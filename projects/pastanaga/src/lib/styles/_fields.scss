@import "variables";

legend {
  @include font-size(xs,xs,xs);
  color: darken($green-dark,12);
  background: $white-smoke;
  padding: rythm(1) rythm(1.5);
  margin-left: - rythm(1.5);
  margin-right: - rythm(1.5);
  text-transform: uppercase;
}

.o-field {
    position: relative;
    margin-bottom: rythm(1.5);

    // o-field-help
    &-help {
        @include font-size(xs, s, xs);
        color: $gray;
        font-weight: $font-weight-light;
        display: block;
        margin-top: rythm(.5);
    }
    &-control:disabled ~ &-help {
        color: $gray-pale;
    }
}

// no ng-deep here because this style doesn't belong to a component
//groups
fieldset.o-fieldset-group {
  & > legend {
    @include font-size(xs,xs,xs);
    margin-bottom: rythm(.75);
    text-transform: uppercase;
    margin-left: 0;
    margin-right: 0;
    background: none;
    color: $gray;
    padding: 0;
  }
  & > pa-checkbox:not(:last-child) .o-field {
    margin-bottom: 0;
  }
  & > .o-field.o-field-toggle:not(:last-child) {
    margin-bottom: rythm(1);
  }
}

fieldset > pa-button.o-field-button-right {
    float: right;
    margin-right: -12px;
    margin-top: -30px;
}

// errors
.o-field-error {
    .o-field-control,
    .o-field-control:not(:disabled):not(:read-only):hover,
    .o-field-control:not(:disabled):not(:read-only):active,
    .o-field-control:not(:disabled):not(:read-only):focus {
        /* autoprefixer: off */
        background: rgba($red, .05) !important;
        box-shadow: 0 2px 0 -1px $red-contrast !important;
        caret-color: $red !important;
    }
    .o-field-control:not(:disabled):not(:read-only):hover {
        /* autoprefixer: off */
        box-shadow: 0 2px 0 -1px $red-contrast !important;
    }
    .o-field-control:not(:disabled):not(:read-only):active,
    .o-field-control:not(:disabled):not(:read-only):focus {
        /* autoprefixer: off */
        box-shadow: 0 2px 0 0 $red-light !important;
    }

    .o-field-control:hover + .o-field-label,
    .o-field-control:active + .o-field-label,
    .o-field-control:focus + .o-field-label,
    .o-field-label {
        color: $red-contrast !important;
    }
    .o-field-help-error {
        color: $red-contrast;
    }

    // firefox workaround
    .o-field-control,
    .o-field-control:not(:disabled):not(:-moz-read-only):hover,
    .o-field-control:not(:disabled):not(:-moz-read-only):active,
    .o-field-control:not(:disabled):not(:-moz-read-only):focus {
        /* autoprefixer: off */
        background: rgba($red, .05) !important;
        box-shadow: 0 7px 0 -6px $red !important;
        caret-color: $red !important;
    }
    .o-field-control:not(:disabled):not(:-moz-read-only):hover {
        /* autoprefixer: off */
        box-shadow: 0 2px 0 -1px $red-contrast !important;
    }
    .o-field-control:not(:disabled):not(:-moz-read-only):active,
    .o-field-control:not(:disabled):not(:-moz-read-only):focus {
        /* autoprefixer: off */
        box-shadow: 0 2px 0 0 $red-light !important;
    }
}

input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus
input:-webkit-autofill,
textarea:-webkit-autofill,
textarea:-webkit-autofill:hover
textarea:-webkit-autofill:focus,
select:-webkit-autofill,
select:-webkit-autofill:hover,
select:-webkit-autofill:focus {
    -webkit-text-fill-color: $green-dark;
    -webkit-box-shadow: inset 0 0 0 9999px #e4efe3 !important;
    transition: background-color 5000s ease-in-out 0s;
}
